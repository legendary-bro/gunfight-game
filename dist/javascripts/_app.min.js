!function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="/javascripts/",e(0)}([function(t,e,i){t.exports=i(31)},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){var i,n=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;i=function(t){function e(t,i,n,r,o){var s;this.game=t,this.game_state=i,null==r&&(r=0),null==o&&(o=0),s="atlas",n=String(n),e.__super__.constructor.call(this,this.game,r,o,s,"text/"+n.replace(" ","_").toUpperCase()),this.game.add.existing(this),this.hide()}return n(e,t),e.prototype.place=function(t,e){return this.x=t,this.y=e},e.prototype.show=function(){return this.reset(this.x,this.y)},e.prototype.hide=function(){return this.kill()},e}(Phaser.Sprite),t.exports=i},function(t,e,i){var n;(function(r){!function(o){"use strict";n=function(require){function t(){return"undefined"!=typeof r&&"[object process]"===Object.prototype.toString.call(r)}function e(){return"function"==typeof MutationObserver&&MutationObserver||"function"==typeof WebKitMutationObserver&&WebKitMutationObserver}function n(t){function e(){var t=i;i=void 0,t()}var i,n=document.createTextNode(""),r=new t(e);r.observe(n,{characterData:!0});var o=0;return function(t){i=t,n.data=o^=1}}var o,s="undefined"!=typeof setTimeout&&setTimeout,u=function(t,e){return setTimeout(t,e)},h=function(t){return clearTimeout(t)},a=function(t){return s(t,0)};if(t())a=function(t){return r.nextTick(t)};else if(o=e())a=n(o);else if(!s){var c=i(48);u=function(t,e){return c.setTimer(e,t)},h=c.cancelTimer,a=c.runOnLoop||c.runOnContext}return{setTimer:u,clearTimer:h,asap:a}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}(i(1))}).call(e,i(11))},function(t,e){t.exports=_},function(t,e){var i,n=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;t.exports=i=function(t){function e(t,i){this.game=t,null==i&&(i=0),e.__super__.constructor.call(this,this.game,0,i),this.game.physics.enable(this,Phaser.Physics.ARCADE),this.body.setSize(this.game.world.width,5,0,0),this.body.allowGravity=!1,this.body.immovable=!0,this.game.add.existing(this)}return n(e,t),e}(Phaser.Sprite)},function(t,e,i){(function(e){var n,r,o,s,u,h,a,c,l,p,f,d,y,m,_,g=function(t,e){function i(){this.constructor=t}for(var n in e)w.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},w={}.hasOwnProperty;_=i(46),r=i(21),n=i(20),m=i(2),y=i(32),a=200,c=495,p=888,f=495,d=60,s=15,u=7,h={move_up:"W",move_down:"S",move_left:"A",move_right:"D",aim_up:"Q",aim_down:"E",shoot:"F"},l={move_up:"I",move_down:"K",move_left:"J",move_right:"L",aim_up:"O",aim_down:"U",shoot:"H"},o=function(t){function i(t,e,o){var s,u,h,l;return this.game=t,this.game_state=e,this.is_player_one=null!=o?o:!0,u="atlas",s="cowboy/med/two",h=this.is_player_one?a:p,l=this.is_player_one?c:f,i.__super__.constructor.call(this,this.game,h,l,u,s),this.game.physics.enable(this,Phaser.Physics.ARCADE),this.width=this.body.width,this.height=this.body.height,this.body.setSize(45,136,25,0),this.is_player_one&&this.body.setSize(45,136,-25,0),this.body.immovable=!0,this.anchor.setTo(.5,1),this.scale.x=this.is_player_one?-1:1,this.direction={up:!1,down:!1,left:!1,right:!1},this.aim={up:!1,down:!1},this.time=Date.now(),this.moving=!1,this.dead=!1,this.input_disabled=!0,this.gun_pos=["low","medlow","med","medhigh","high"],this.leg_pos=["two","one","cross"],this.gun_pos_index=2,this.leg_pos_index=1,this.wins=0,this.num_bullets=6,this.bullets=new r(this.game,this.game_state,this),this.ammo=new n(this.game,this.game_state,this),this.text=new m(this.game,this.game_state,"got me"),this.game_state.is_intro||this.setupControls(),this.setupAnimations(),this.createStateMachine(),this.game.add.existing(this),this.kill(),this}return g(i,t),i.prototype.runIntro=function(t){return this.intro_callback=t,this.reload(),this.kill(),this.is_player_one?(this.reset(-48,c),this.direction.right=!0):(this.reset(1136,f),this.direction.left=!0),this.game_state.is_intro?(this.in_intro_loop=!0,this.gun_pos_index=0):(this.in_intro_cutscene=!0,this.gun_pos_index=2),this.moving=!0},i.prototype.update=function(){var t,e,i,n,r,o;if("dying"===this.state.current||this.input_disabled&&!this.in_intro_cutscene&&!this.in_intro_loop){if(t=this.animations.currentFrame.name,"cowboy/dead/rip"===t&&!this.text.visible)return r=this.is_player_one?this.body.right-this.text.width/2:this.body.x-this.text.width/2,o=this.body.y,this.text.place(r,o),this.text.show()}else{if(e=Date.now(),e-this.time>d){if(this.direction.up&&this.body.y>this.game_state.ceiling.y&&!this.in_intro_cutscene&&(this.body.y-=s),this.direction.down&&this.body.y<this.game_state.floor.y-this.body.height&&!this.in_intro_cutscene&&(this.body.y+=s),this.is_player_one){if(this.direction.left&&this.body.x>this.game_state.left_wall_outer.body.x&&(this.body.x-=s),this.direction.right&&this.body.right<this.game_state.left_wall.body.x&&(this.body.x+=s),this.in_intro_cutscene&&this.body.right>=a&&(this.in_intro_cutscene=!1,this.direction.right=!1),this.in_intro_loop&&(this.body.right>=this.game_state.left_wall.body.x&&this.direction.right&&-1===this.scale.x&&(this.direction.right=!1,setTimeout(function(t){return function(){return t.shoot()}}(this),1500),setTimeout(function(t){return function(){var e,i;for(t.direction.left=!0,t.moving=!0,e=i=1;4>=i;e=++i)t.aim_up();return t.scale.x=1}}(this),5500)),this.body.x<=this.game_state.left_wall_outer.body.x&&this.direction.left)){for(this.direction.left=!1,this.reload(),i=n=1;4>=n;i=++n)this.aim_down();this.scale.x=-1,this.direction.right=!0}}else this.direction.left&&this.body.x>this.game_state.right_wall.body.x&&(this.body.x-=s),this.direction.right&&this.body.right<this.game_state.right_wall_outer.body.x&&(this.body.x+=s),this.in_intro_cutscene&&this.body.x<=p&&(this.in_intro_cutscene=!1,this.direction.left=!1,this.intro_callback());this.time=e}if(this.direction.up||this.direction.down||this.direction.left||this.direction.right||(this.moving=!1),this.moving&&"moving"!==this.state.current&&this.move(),!this.moving&&"idle"!==this.state.current)return this.idle()}},i.prototype.enableInput=function(){return this.input_disabled=!1},i.prototype.disableInput=function(){return this.input_disabled=!0},i.prototype.toggleInput=function(){return this.input_disabled=!this.input_disabled},i.prototype.move=function(){return this.state._move()},i.prototype.idle=function(){return this.state._idle()},i.prototype.die=function(){return this.state._die()},i.prototype.move_up=function(){return this.direction.up=!0},i.prototype.move_left=function(){return this.direction.left=!0},i.prototype.move_right=function(){return this.direction.right=!0},i.prototype.move_down=function(){return this.direction.down=!0},i.prototype.move_up_off=function(){return this.direction.up=!1},i.prototype.move_left_off=function(){return this.direction.left=!1},i.prototype.move_right_off=function(){return this.direction.right=!1},i.prototype.move_down_off=function(){return this.direction.down=!1},i.prototype.aim_up=function(){return this.animate_aim_up()},i.prototype.aim_down=function(){return this.animate_aim_down()},i.prototype.reload=function(){var t,e,i,n,r;for(this.num_bullets=6,this.ammo.reload(),n=this.bullets.children,r=[],e=0,i=n.length;i>e;e++)t=n[e],r.push(t.kill());return r},i.prototype.animate_aim_up=function(){var t,e,i,n,r,o;if(!this.in_intro_cutscene){for(t=this.animations.currentFrame.name,this.gun_pos_index<this.gun_pos.length-1&&(this.gun_pos_index+=1),o=this.leg_pos,e=i=0,n=o.length;n>i&&(r=o[e],this.leg_pos_index=e,!t.match(r));e=++i);return this.animations.stop(),this.animations.play("move-"+this.gun_pos[this.gun_pos_index]),this.animations.next(this.leg_pos_index)}},i.prototype.animate_aim_down=function(){var t,e,i,n,r,o;if(!this.in_intro_cutscene){for(t=this.animations.currentFrame.name,this.gun_pos_index>0&&(this.gun_pos_index-=1),o=this.leg_pos,e=i=0,n=o.length;n>i&&(r=o[e],this.leg_pos_index=e,!t.match(r));e=++i);return this.animations.stop(),this.animations.play("move-"+this.gun_pos[this.gun_pos_index]),this.animations.next(this.leg_pos_index)}},i.prototype.shoot=function(){return this.num_bullets>0&&(!this.input_disabled||this.in_intro_loop)?(this.num_bullets-=1,this.ammo.crop(),this.bullets.shoot()):void 0},i.prototype.setupControls=function(){var t;return t=this.is_player_one?h:l,e.each(t,function(t){return function(e,i){var n;return n=t.game_state.input.keyboard.addKey(Phaser.Keyboard[e]),n.onDown.add(function(){return t[i]()}),n.onDown.add(function(){return i.match("move")?t.moving=!0:void 0}),n.onUp.add(function(){return i.match("move")?t[i+"_off"]():void 0})}}(this))},i.prototype.setupAnimations=function(){return this.animations.add("die",["cowboy/dead/hit","cowboy/dead/hit","cowboy/dead/hit","cowboy/dead/hit","cowboy/dead/hit","cowboy/dead/hit","cowboy/dead/rip","cowboy/dead/rip","cowboy/dead/rip"],u,!1),this.animations.add("move-high",["cowboy/high/two","cowboy/high/one","cowboy/high/cross","cowboy/high/one"],u,!0),this.animations.add("move-low",["cowboy/low/two","cowboy/low/one","cowboy/low/cross","cowboy/low/one"],u,!0),this.animations.add("move-medhigh",["cowboy/medhigh/two","cowboy/medhigh/one","cowboy/medhigh/cross","cowboy/medhigh/one"],u,!0),this.animations.add("move-medlow",["cowboy/medlow/two","cowboy/medlow/one","cowboy/medlow/cross","cowboy/medlow/one"],u,!0),this.animations.add("move-med",["cowboy/med/two","cowboy/med/one","cowboy/med/cross","cowboy/med/one"],u,!0)},i.prototype.createStateMachine=function(){return this.state=y.create({initial:"_idle",events:[{name:"_idle",from:"*",to:"idling"},{name:"_move",from:"*",to:"moving"},{name:"_die",from:"*",to:"dying"}],callbacks:{on_idle:function(t){return function(e,i,n){return t.animations.stop(null,!0)}}(this),on_move:function(t){return function(e,i,n){return t.play("move-"+t.gun_pos[t.gun_pos_index])}}(this),on_die:function(t){return function(e,i,n){return t.play("die")}}(this)}})},i}(Phaser.Sprite),t.exports=o}).call(e,i(4))},function(t,e){var i,n=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;t.exports=i=function(t){function e(t,i){this.game=t,null==i&&(i=0),e.__super__.constructor.call(this,this.game,0,this.game.height+i),this.game.physics.enable(this,Phaser.Physics.ARCADE),this.body.setSize(this.game.world.width,5,0,0),this.body.allowGravity=!1,this.body.immovable=!0,this.game.add.existing(this)}return n(e,t),e}(Phaser.Sprite)},function(t,e,i){var n,r,o,s=function(t,e){function i(){this.constructor=t}for(var n in e)u.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},u={}.hasOwnProperty;o=i(2),n=function(t){function e(t,i,n,r,o){this.game=t,this.game_state=i,null==r&&(r=0),null==o&&(o=0),e.__super__.constructor.call(this,this.game,this.game_state,n,r,o)}return s(e,t),e}(o),r=function(){function t(t,e,i,r,o){var s,u,h;for(this.game=t,this.game_state=e,this.start_value=null!=i?i:0,this.x=null!=r?r:0,this.y=null!=o?o:0,this.value=this.start_value,this.left_digits={},s=u=1;9>=u;s=++u)this.left_digits[s]=new n(this.game,this.game_state,s,this.x,this.y);for(this.right_digits={},s=h=0;9>=h;s=++h)this.right_digits[s]=new n(this.game,this.game_state,s,this.x+32,this.y);this.left_digit=void 0,this.right_digit=void 0,this.hidden=!0,this.setValue()}return t.prototype.hideAllLeft=function(){var t,e,i;for(i=[],t=e=0;9>=e;t=++e)i.push(this.left_digits[t].hide());return i},t.prototype.hideAllRight=function(){var t,e,i;for(i=[],t=e=0;9>=e;t=++e)i.push(this.right_digits[t].hide());return i},t.prototype.hideLeft=function(){return this.left_digit?this.left_digit.hide():void 0},t.prototype.hideRight=function(){return this.right_digit.hide()},t.prototype.showLeft=function(){return this.left_digit?this.left_digit.show():void 0},t.prototype.showRight=function(){return this.right_digit.show()},t.prototype.hide=function(){return this.hidden=!0,this.hideLeft(),this.hideRight()},t.prototype.show=function(){return this.hidden=!1,this.showLeft(),this.showRight()},t.prototype.setValue=function(t){return null==t&&(t=this.start_value),this.value=t,this.left_digit&&this.left_digit.hide(),this.right_digit&&this.right_digit.hide(),this.value<0?(this.left_digit=this.undefined,this.right_digit=this.right_digits[0]):this.value<10?(this.left_digit=this.undefined,this.right_digit=this.right_digits[String(this.value).split("")[0]]):(this.left_digit=this.left_digits[String(this.value).split("")[0]],this.right_digit=this.right_digits[String(this.value).split("")[1]]),this.hidden?void 0:this.show()},t.prototype.resetValue=function(){return this.setValue(this.start_value)},t.prototype.inc=function(t){return null==t&&(t=1),this.increment(t)},t.prototype.dec=function(t){return null==t&&(t=1),this.decrement(t)},t.prototype.increment=function(t){return null==t&&(t=1),this.setValue(this.value+t)},t.prototype.decrement=function(t){return null==t&&(t=1),this.setValue(this.value-t)},t}(),t.exports=r},function(t,e){var i,n=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;t.exports=i=function(t){function e(t,i){this.game=t,null==i&&(i=0),e.__super__.constructor.call(this,this.game,i,0),this.game.physics.enable(this,Phaser.Physics.ARCADE),this.body.setSize(1,this.game.world.height,0,0),this.body.allowGravity=!1,this.body.immovable=!0,this.game.add.existing(this)}return n(e,t),e}(Phaser.Sprite)},function(t,e){var i,n=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;i=function(t){function e(t,i,n,r,o){var s;return this.game=t,this.game_state=i,null==n&&(n=0),null==r&&(r=0),null==o&&(o="cactus"),s="atlas",o="terrain/"+o,e.__super__.constructor.call(this,this.game,n,r,s,o),this.game.physics.enable(this,Phaser.Physics.ARCADE),this.body.immovable=!0,this.game.add.existing(this),this.cropRect=this.game.add.graphics(),this}return n(e,t),e.prototype.deform=function(t){var e;return e=t-this.y,this.body.setSize(this.width,this.height-e,0,e),this.drawRect(e)},e.prototype.reload=function(){return this.cropRect.clear()},e.prototype.drawRect=function(t){return this.cropRect.lineStyle(0),this.cropRect.beginFill("0x000000"),this.cropRect.drawRect(this.x,this.y,this.width,t),this.cropRect.endFill(),this.game.world.bringToTop(this.cropRect)},e}(Phaser.Sprite),t.exports=i},function(t,e){function i(){a=!1,s.length?h=s.concat(h):c=-1,h.length&&n()}function n(){if(!a){var t=setTimeout(i);a=!0;for(var e=h.length;e;){for(s=h,h=[];++c<e;)s[c].run();c=-1,e=h.length}s=null,a=!1,clearTimeout(t)}}function r(t,e){this.fun=t,this.array=e}function o(){}var s,u=t.exports={},h=[],a=!1,c=-1;u.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];h.push(new r(t,e)),1!==h.length||a||setTimeout(n,0)},r.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=o,u.addListener=o,u.once=o,u.off=o,u.removeListener=o,u.removeAllListeners=o,u.emit=o,u.binding=function(t){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(t){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(t,e,i){var n;!function(r){"use strict";n=function(){function t(e){Error.call(this),this.message=e,this.name=t.name,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t)}return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}(i(1))},function(t,e,i){var n;!function(r){"use strict";n=function(){function t(t,i){function n(e,n,o){var s=t._defer(),u=o.length,h=new Array(u);return r({f:e,thisArg:n,args:o,params:h,i:u-1,call:i},s._handler),s}function r(e,n){if(e.i<0)return i(e.f,e.thisArg,e.params,n);var r=t._handler(e.args[e.i]);r.fold(o,e,void 0,n)}function o(t,e,i){t.params[t.i]=e,t.i-=1,r(t,i)}return arguments.length<2&&(i=e),n}function e(t,e,i,n){try{n.resolve(t.apply(e,i))}catch(r){n.reject(r)}}return t.tryCatchResolve=e,t}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}(i(1))},function(t,e,i){var n;!function(r){"use strict";n=function(){function t(){return{state:"pending"}}function e(t){return{state:"rejected",reason:t}}function i(t){return{state:"fulfilled",value:t}}function n(n){var r=n.state();return 0===r?t():r>0?i(n.value):e(n.value)}return{pending:t,fulfilled:i,rejected:e,inspect:n}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}(i(1))},function(t,e){t.exports=jQuery},function(t,e){var i;i={frames:{"text/0":{frame:{x:442,y:176,w:24,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:24,h:40},sourceSize:{w:24,h:40}},"text/1":{frame:{x:494,y:2,w:16,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:16,h:40},sourceSize:{w:16,h:40}},"text/2":{frame:{x:468,y:176,w:24,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:24,h:40},sourceSize:{w:24,h:40}},"text/3":{frame:{x:442,y:218,w:24,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:24,h:40},sourceSize:{w:24,h:40}},"text/4":{frame:{x:468,y:218,w:24,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:24,h:40},sourceSize:{w:24,h:40}},"text/5":{frame:{x:100,y:174,w:24,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:24,h:40},sourceSize:{w:24,h:40}},"text/6":{frame:{x:100,y:216,w:24,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:24,h:40},sourceSize:{w:24,h:40}},"text/7":{frame:{x:100,y:258,w:24,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:24,h:40},sourceSize:{w:24,h:40}},"text/8":{frame:{x:100,y:300,w:24,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:24,h:40},sourceSize:{w:24,h:40}},"text/9":{frame:{x:328,y:170,w:24,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:24,h:40},sourceSize:{w:24,h:40}},"text/DRAW":{frame:{x:336,y:2,w:156,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:156,h:40},sourceSize:{w:156,h:40}},"text/GAME":{frame:{x:132,y:128,w:120,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:120,h:40},sourceSize:{w:120,h:40}},"text/GET_READY":{frame:{x:2,y:44,w:272,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:272,h:40},sourceSize:{w:272,h:40}},"text/GOT_ME":{frame:{x:276,y:44,w:212,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:212,h:40},sourceSize:{w:212,h:40}},"text/GUN_FIGHT":{frame:{x:2,y:86,w:272,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:272,h:40},sourceSize:{w:272,h:40}},"text/INSERT_COIN":{frame:{x:2,y:2,w:332,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:332,h:40},sourceSize:{w:332,h:40}},"text/OVER":{frame:{x:254,y:128,w:120,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:120,h:40},sourceSize:{w:120,h:40}},ammo:{frame:{x:276,y:86,w:180,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:180,h:40},sourceSize:{w:180,h:40}},bullet:{frame:{x:490,y:44,w:8,h:8},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:8,h:8},sourceSize:{w:8,h:8}},"terrain/cactus":{frame:{x:458,y:86,w:32,h:88},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:32,h:88},sourceSize:{w:32,h:88}},"cowboy/dead/hit":{frame:{x:198,y:584,w:96,h:132},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:96,h:132},sourceSize:{w:96,h:132}},"cowboy/dead/rip":{frame:{x:2,y:128,w:128,h:44},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:128,h:44},sourceSize:{w:128,h:44}},"cowboy/high/cross":{frame:{x:132,y:170,w:96,h:136},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:96,h:136},sourceSize:{w:96,h:136}},"cowboy/high/one":{frame:{x:2,y:174,w:96,h:136},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:96,h:136},sourceSize:{w:96,h:136}},"cowboy/high/two":{frame:{x:2,y:312,w:96,h:136},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:96,h:136},sourceSize:{w:96,h:136}},"cowboy/low/cross":{frame:{x:230,y:170,w:96,h:136},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:96,h:136},sourceSize:{w:96,h:136}},"cowboy/low/one":{frame:{x:328,y:238,w:96,h:136},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:96,h:136},sourceSize:{w:96,h:136}},"cowboy/low/two":{frame:{x:126,y:308,w:96,h:136},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:96,h:136},sourceSize:{w:96,h:136}},"cowboy/med/cross":{frame:{x:224,y:308,w:96,h:136},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:96,h:136},sourceSize:{w:96,h:136}},"cowboy/med/one":{frame:{x:322,y:376,w:96,h:136},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:96,h:136},sourceSize:{w:96,h:136}},"cowboy/med/two":{frame:{x:100,y:446,w:96,h:136},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:96,h:136},sourceSize:{w:96,h:136}},"cowboy/medhigh/cross":{frame:{x:2,y:450,w:96,h:136},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:96,h:136},sourceSize:{w:96,h:136}},"cowboy/medhigh/one":{frame:{x:198,y:446,w:96,h:136},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:96,h:136},sourceSize:{w:96,h:136}},"cowboy/medhigh/two":{frame:{x:296,y:514,w:96,h:136},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:96,h:136},sourceSize:{w:96,h:136}},"cowboy/medlow/cross":{frame:{x:394,y:514,w:96,h:136},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:96,h:136},sourceSize:{w:96,h:136}},"cowboy/medlow/one":{frame:{x:100,y:584,w:96,h:136},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:96,h:136},sourceSize:{w:96,h:136}},"cowboy/medlow/two":{frame:{x:2,y:588,w:96,h:136},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:96,h:136},sourceSize:{w:96,h:136}},"terrain/tree":{frame:{x:376,y:128,w:64,h:108},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:64,h:108},sourceSize:{w:64,h:108}},wagon:{frame:{x:420,y:376,w:88,h:96},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:88,h:96},sourceSize:{w:88,h:96}}},meta:{app:"http://www.codeandweb.com/texturepacker",version:"1.0",image:"atlas.png",format:"RGBA8888",size:{w:512,h:1024},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:106b7c2716c423559353f14b4413d243:ef307b0abd120798811a35db5e8606cf:cbce6b53f0f49e0bf15173c25c41f876$"}},t.exports=i},function(t,e){var i;i={1:{wagon:!1,num_cactus:1},2:{wagon:!1,num_cactus:2},3:{wagon:!1,num_cactus:3},4:{wagon:!1,num_cactus:4},5:{wagon:!0,num_cactus:4},6:{wagon:!0,num_cactus:5},7:{wagon:!0,num_cactus:2,num_tree:1},8:{wagon:!0,num_cactus:1,num_tree:2},9:{wagon:!0,num_cactus:2,num_tree:2},10:{wagon:!0,num_cactus:3,num_tree:2},11:{wagon:!0,num_cactus:4,num_tree:2},12:{wagon:!0,num_cactus:3,num_tree:3}},t.exports=i},function(t,e){var i;i={},t.exports=i},function(t,e,i){(function(e){var n,r,o;n=e(window),r=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?!0:!1},o=function(t,o){var s,u,h,a,c,l,p;for(null==t&&(t="/"),null==o&&(o="?v=0.0.0"),h=1088,u=816,s=new Phaser.Game(h,u,Phaser.AUTO,"game","boot",!1,!1,null),s.cdn=t,s.hosturl=void 0,s.version=o,s.debugMode=!1,s.enableMusic=!s.debugMode,s.enableSFX=!s.debugMode,s.constants={STATES:["boot","preload","intro","game","reset"],LEVELS:i(17),SFX:i(18)},s.level=1,s.score_player_one=0,s.score_player_two=0,s.scaler=function(){var t,i;return i=e("#game"),t=e("canvas"),n=e(window),r()?void 0:(i=e("#game"),t=e("canvas"),n=e(window),i.height()>n.height()-150?i.css("max-height",n.height()-150+"px"):i.css("max-height","auto"))},l=s.constants.STATES,a=0,c=l.length;c>a;a++)p=l[a],s.state.add(p,i(47)("./"+p+".coffee"));return s.state.start("boot")},t.exports=o}).call(e,i(15))},function(t,e){var i,n=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;i=function(t){function e(t,i,n){var r,o,s,u;return this.game=t,this.game_state=i,this.player=n,o="atlas",r="ammo",s=this.player.is_player_one?94:816,u=this.game.height-45,e.__super__.constructor.call(this,this.game,s,u,o,r),this.game.add.existing(this),this.hide(),this.cropRect=this.game.add.graphics(),this}return n(e,t),e.prototype.show=function(){return this.reset(this.x,this.y)},e.prototype.hide=function(){return this.kill()},e.prototype.crop=function(){var t;return t=this.width-this.player.num_bullets/6*this.width,this.drawRect(t)},e.prototype.reload=function(){return this.cropRect.clear()},e.prototype.drawRect=function(t){return this.cropRect.lineStyle(0),this.cropRect.beginFill("0x000000"),this.cropRect.drawRect(this.x,this.y,t,this.height),this.cropRect.endFill()},e}(Phaser.Sprite),t.exports=i},function(t,e){var i,n,r,o,s=function(t,e){function i(){this.constructor=t}for(var n in e)u.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},u={}.hasOwnProperty;r={high:{x:45,y:15,deg:-52},medhigh:{x:50,y:35,deg:-26},med:{x:55,y:46,deg:0},medlow:{x:50,y:75,deg:22},low:{x:45,y:88,deg:42}},o=750,i=function(t){function e(t,i,n){var r,o;return this.game=t,this.game_state=i,this.player=n,o="atlas",r="bullet",e.__super__.constructor.call(this,this.game,this.player.body.x,this.player.body.y,o,r),this.game.physics.enable(this),this.time=Date.now(),this.body.bounce.set(1),this.is_player_one=this.player.is_player_one,this.checkWorldBounds=!0,this.outOfBoundsKill=!0,this.game.add.existing(this),this.kill(),this}return s(e,t),e.prototype.shoot=function(){var t,e,i,n,s;return e=this.player.gun_pos[this.player.gun_pos_index],i=r[e],n=this.is_player_one?this.player.body.right+i.x:this.player.body.x-i.x,s=this.player.body.y+i.y,t=this.is_player_one?i.deg:180-i.deg,this.reset(n,s),this.game.world.bringToTop(this),this.game.physics.arcade.velocityFromAngle(t,o,this.body.velocity)},e}(Phaser.Sprite),n=function(t){function e(t,n,r){var o,s,u;for(this.game=t,this.game_state=n,this.player=r,e.__super__.constructor.call(this,this.game,null,"bullets",!1,!0,Phaser.Physics.Arcade.Body),s=o=1,u=this.player.num_bullets;u>=1?u>=o:o>=u;s=u>=1?++o:--o)this.add(new i(this.game,this.game_state,this.player));this.game.add.existing(this),this.game.world.bringToTop(this)}return s(e,t),e.prototype.shoot=function(){return this.getFirstDead().shoot()},e}(Phaser.Group),t.exports=n},function(t,e,i){var n,r,o=function(t,e){function i(){this.constructor=t}for(var n in e)s.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;r=i(10),n=function(t){function e(t,i,n,r){this.game=t,this.game_state=i,null==n&&(n=0),null==r&&(r=0),e.__super__.constructor.call(this,this.game,this.game_state,n,r,"cactus")}return o(e,t),e}(r),t.exports=n},function(t,e,i){(function(e){var n,r,o,s,u,h,a=function(t,e){function i(){this.constructor=t}for(var n in e)c.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},c={}.hasOwnProperty;r=i(22),h=i(24),n={top_left:{x:328,y:100},top_right:{x:714,y:100},center_left:{x:436,y:350},center:{x:528,y:350},center_right:{x:614,y:350},bottom_left:{x:328,y:600},bottom_right:{x:714,y:600}},s={top_left:{x:328,y:150},top_right:{x:714,y:150},bottom_left:{x:328,y:550},bottom_right:{x:714,y:550}},o=["top_left","top_right","bottom_left","bottom_right"],u=function(t){function i(t,e,n){this.game=t,this.game_state=e,this.level_data=null!=n?n:{},i.__super__.constructor.call(this,this.game,null,"TerrainGroup"),this.build(),this.game.add.existing(this)}return a(i,t),i.prototype.reset=function(){return this.removeChildren()},i.prototype.build=function(t){var i,n,r,s,u,h,a;for(null==t&&(t=this.level_data),this.level_data=t,this.is_wagon=this.level_data.wagon,this.num_cactus=this.level_data.num_cactus,this.num_tree=this.level_data.num_tree,this.positions=e.shuffle(o),this.cactus_positions=this.is_wagon?["center_left","center_right"]:["center"],i=n=0,s=this.num_cactus;s>=0?s>n:n>s;i=s>=0?++n:--n)this.addCactus();for(h=[],a=r=0,u=this.num_tree;u>=0?u>r:r>u;a=u>=0?++r:--r)h.push(this.addTree());return h},i.prototype.addCactus=function(){var t;return t=this.getTerrainPosition("cactus"),this.add(new r(this.game,this.game_state,t.x,t.y))},i.prototype.addTree=function(){var t;return t=this.getTerrainPosition("tree"),this.add(new h(this.game,this.game_state,t.x,t.y))},i.prototype.getTerrainPosition=function(t){var e,i;switch(e=void 0,t){case"cactus":this.cactus_positions.length>0?(i=this.cactus_positions.pop(),e=n[i]):(i=this.positions.pop(),e=n[i]);break;case"tree":i=this.positions.pop(),e=s[i]}return e},i}(Phaser.Group),t.exports=u}).call(e,i(4))},function(t,e,i){var n,r,o=function(t,e){function i(){this.constructor=t}for(var n in e)s.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;n=i(10),r=function(t){function e(t,i,n,r){this.game=t,this.game_state=i,null==n&&(n=0),null==r&&(r=0),e.__super__.constructor.call(this,this.game,this.game_state,n,r,"tree")}return o(e,t),e}(n),t.exports=r},function(t,e){var i,n,r,o=function(t,e){function i(){this.constructor=t}for(var n in e)s.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;n=300,i=15,r=function(t){function e(t,i){var n,r;return this.game=t,this.game_state=i,r="atlas",n="wagon",e.__super__.constructor.call(this,this.game,500,675,r,n),this.game.physics.enable(this,Phaser.Physics.ARCADE),this.body.immovable=!0,this.rolling=!1,this.direction="up",this.time=Date.now(),this.game.add.existing(this),this.kill(),this}return o(e,t),e.prototype.revive=function(){return this.reset(500,675)},e.prototype.roll=function(){return this.rolling=!0},e.prototype.stop=function(){return this.rolling=!1},e.prototype.start=function(){return this.revive(),this.game.world.bringToTop(this),this.roll()},e.prototype.update=function(){var t,e;return t=Date.now(),this.rolling&&t-this.time>n?("down"===this.direction&&this.body.y>=675&&(this.direction="up"),"up"===this.direction&&this.body.y<=45&&(this.direction="down"),e="up"===this.direction?-1:1,this.body.y+=e*i,this.time=t):void 0},e}(Phaser.Sprite),t.exports=r},function(t,e){var i;i=function(){function t(){}return t.prototype.create=function(){return this.game.stage.backgroundColor="#000000",this.scale.pageAlignHorizontally=!0,this.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.state.start("preload")},t.prototype.preload=function(){return this.game.scaler()},t}(),t.exports=i},function(t,e,i){var n,r,o,s,u,h,a,c,l,p,f,d;o=i(7),n=i(5),d=i(9),p=275,l=i(2),u=i(8),r=i(6),c=i(23),f=i(25),a=70,h=10,s=function(){function t(){}return t.prototype.create=function(){return this.game.input.onDown.removeAll(),this.game.input.onUp.removeAll(),this.game.input.activePointer.leftButton.onUp.removeAll(),this.ceiling=new n(this.game,45),this.floor=new o(this.game,-45),this.left_wall_outer=new d(this.game,92),this.left_wall=new d(this.game,this.game.world.width/2-p),this.right_wall_outer=new d(this.game,996),this.right_wall=new d(this.game,this.game.world.width/2+p),this.text_gun_fight=new l(this.game,this,"gun fight",408,250),this.text_get_ready=new l(this.game,this,"get ready",408,250),this.text_insert_coin=new l(this.game,this,"insert coin",700,771),this.text_draw=new l(this.game,this,"draw",466,250),this.text_game=new l(this.game,this,"game",370,5),this.text_over=new l(this.game,this,"over",599,5),this.hud_score_player_one=new u(this.game,this,0,200,5),this.hud_score_player_two=new u(this.game,this,0,830,5),this.hud_timer=new u(this.game,this,a,644,5),this.hud_countdown=new u(this.game,this,h,400,5),this.timer=this.game.time.create(!1),this.countdown=this.game.time.create(!1),this.player_one=new r(this.game,this),
this.player_two=new r(this.game,this,!1),this.bullets=[this.player_one.bullets,this.player_two.bullets],this.walls=[this.left_wall,this.right_wall],this.surfaces=[this.ceiling,this.floor],this.players=[this.player_one,this.player_two],this.wagon=new f(this.game,this.game_state),this.terrain=void 0,this.start()},t.prototype.start=function(){var t,e,i,n;for(this.setupLevel(),this.hud_timer.show(),n=this.players,t=0,e=n.length;e>t;t++)i=n[t],i.ammo.show();return this.text_get_ready.show(),this.runIntro(function(t){return function(){return t.text_get_ready.hide(),t.text_draw.show(),setTimeout(function(){var e,n,r;for(t.text_draw.hide(),r=t.players,e=0,n=r.length;n>e;e++)i=r[e],i.enableInput();return t.game.time.events.loop(1e3,t.updateTimer,t).autoDestroy=!0,t.game.time.events.loop(1e3,t.updateCountdown,t).autoDestroy=!0,t.timer.start(),t.countdown.start()},700)}}(this))},t.prototype.update=function(){return this.game.physics.arcade.collide(this.bullets,this.surfaces),this.game.physics.arcade.collide(this.bullets,this.players,function(t){return function(e,i){return t.player_one.disableInput(),t.player_two.disableInput(),t.player_one.bullets.forEachAlive(function(t){return t.kill()}),t.player_two.bullets.forEachAlive(function(t){return t.kill()}),i.player.idle(),i.player.wins+=1,i.player.is_player_one?t.hud_score_player_one.inc():t.hud_score_player_two.inc(),e.die(),setTimeout(function(){return t.game_over?void 0:t.nextLevel()},2e3)}}(this)),this.game.physics.arcade.collide(this.bullets,this.terrain,function(t){return function(t,e){var i;return i=t.y+t.height,t.kill(),e.deform(i)}}(this)),this.game.physics.arcade.collide(this.bullets,this.wagon,function(t){return function(t,e){return e.kill()}}(this))},t.prototype.render=function(){return this.game.debugMode?(this.game.debug.body(this.ceiling),this.game.debug.body(this.floor),this.game.debug.body(this.left_wall),this.game.debug.body(this.right_wall),this.game.debug.body(this.player_one),this.game.debug.body(this.player_two),this.game.debug.body(this.player_one.bullets),this.game.debug.body(this.player_two.bullets),this.game.debug.body(this.wagon)):void 0},t.prototype.updateTimer=function(){return this.hud_timer.value>0&&this.hud_timer.dec(),0===this.hud_timer.value?this.gameOver():void 0},t.prototype.updateCountdown=function(){return this.game_over||((0===this.player_one.num_bullets||0===this.player_two.num_bullets)&&(this.hud_countdown.show(),this.hud_countdown.value>0&&this.hud_countdown.dec(),0===this.hud_countdown.value&&this.nextLevel()),0!==this.player_one.num_bullets||0!==this.player_two.num_bullets||6!==this.player_one.bullets.countDead()||6!==this.player_two.bullets.countDead()||this.player_one.input_disabled||this.player_two.input_disabled)?void 0:this.nextLevel()},t.prototype.setupLevel=function(){var t,e,i,n,r,o;if(r=this.game.level,n=this.game.constants.LEVELS[r],this.terrain)for(o=this.terrain.children,e=0,i=o.length;i>e;e++)t=o[e],t.cropRect.destroy();return this.terrain&&this.terrain.destroy(),this.terrain=new c(this.game,this,n),this.showHud(),n.wagon?this.wagon.start():void 0},t.prototype.nextLevel=function(){var t,e,i,n,r;for(i=Object.keys(this.game.constants.LEVELS).length,this.game.level+=i>this.game.level?1:0,r=this.players,t=0,e=r.length;e>t;t++)n=r[t],n.text.hide(),n.reload(),n.idle(),n.disableInput();return this.hud_countdown.hide(),this.hud_countdown.resetValue(),this.setupLevel(),this.text_get_ready.show(),this.runIntro(function(t){return function(){return t.text_get_ready.hide(),t.text_draw.show(),setTimeout(function(){var e,i,r,o;for(t.text_draw.hide(),r=t.players,o=[],e=0,i=r.length;i>e;e++)n=r[e],o.push(n.enableInput());return o},700)}}(this))},t.prototype.gameOver=function(){var t,e,i,n;for(this.game.score_player_one=this.player_one.wins,this.game.score_player_two=this.player_two.wins,this.game_over=!0,this.hideHud(),this.terrain.destroy(),this.wagon.destroy(),n=this.players,t=0,e=n.length;e>t;t++)i=n[t],i.ammo.destroy(),i.destroy();return this.text_game.show(),this.text_over.show(),setTimeout(function(t){return function(){return t.state.start("intro")}}(this),1500)},t.prototype.runIntro=function(t){var e,i,n,r,o;for(r=this.players,o=[],e=0,i=r.length;i>e;e++)n=r[e],o.push(n.runIntro(t));return o},t.prototype.showHud=function(){return this.hud_score_player_one.show(),this.hud_score_player_two.show(),this.hud_timer.show()},t.prototype.hideHud=function(){var t,e,i,n,r;for(this.hud_timer.hide(),this.hud_countdown.hide(),n=this.players,r=[],t=0,e=n.length;e>t;t++)i=n[t],r.push(i.text.hide());return r},t}(),t.exports=s},function(t,e,i){var n,r,o,s,u,h,a,c;o=i(7),n=i(5),c=i(9),a=275,h=i(2),s=i(8),r=i(6),u=function(){function t(){}return t.prototype.create=function(){return this.game.input.onDown.removeAll(),this.game.input.onUp.removeAll(),this.game.input.activePointer.leftButton.onUp.removeAll(),this.is_intro=!0,this.ceiling=new n(this.game,45),this.floor=new o(this.game,-45),this.left_wall=new c(this.game,this.game.world.width/2-a+100),this.left_wall_outer=new c(this.game,-200),this.text_gun_fight=new h(this.game,this,"gun fight",408,250),this.text_insert_coin=new h(this.game,this,"insert coin",700,771),this.text_draw=new h(this.game,this,"draw",466,250),this.text_game=new h(this.game,this,"game",370,5),this.text_over=new h(this.game,this,"over",599,5),this.hud_score_player_one=new s(this.game,this,this.game.score_player_one,200,5),this.hud_score_player_two=new s(this.game,this,this.game.score_player_two,830,5),this.cowboy=new r(this.game,this),this.bullets=this.cowboy.bullets,this.walls=[this.left_wall,this.right_wall],this.surfaces=[this.ceiling,this.floor],this.players=[this.cowboy],this.start()},t.prototype.start=function(){return this.text_gun_fight.show(),this.text_game.show(),this.text_over.show(),this.text_insert_coin.show(),this.hud_score_player_one.show(),this.hud_score_player_two.show(),this.game.input.activePointer.leftButton.onUp.add(function(t){return function(){return t.state.start("game")}}(this)),this.runIntro()},t.prototype.render=function(){return this.game.debugMode?(this.game.debug.body(this.ceiling),this.game.debug.body(this.floor),this.game.debug.body(this.left_wall),this.game.debug.body(this.left_wall_outer),this.game.debug.body(this.cowboy),this.game.debug.body(this.cowboy.bullets)):void 0},t.prototype.update=function(){return this.game.physics.arcade.collide(this.bullets,this.surfaces)},t.prototype.runIntro=function(t){var e,i,n,r,o;for(r=this.players,o=[],e=0,i=r.length;i>e;e++)n=r[e],o.push(n.runIntro(t));return o},t}(),t.exports=u},function(t,e,i){(function(e){var n;n=function(){function t(){}return t.prototype.preload=function(){var t,n,r,o;return"/"!==this.game.cdn&&(this.load.crossOrigin=this.game.hosturl),t=this.game.cdn,r="atlas",o=t+"images/atlas.png",n=i(16),this.load.atlasJSONHash(r,o,null,n),e.each(this.game.constants.SFX,function(e){return function(i){var n;return n=e.load.audio(i,[t+"audio/"+i+".mp3"+e.game.version,t+"audio/"+i+".ogg"+e.game.version]),"/"!==e.game.cdn?n.crossOrigin=e.load.crossOrigin:void 0}}(this))},t.prototype.update=function(){return this.state.start("intro")},t}(),t.exports=n}).call(e,i(4))},function(t,e){},function(t,e,i){(function(t){var e;e=i(19),t(document).ready(function(){return console.log("all ready"),e()})}).call(e,i(15))},function(t,e,i){!function(){var i={VERSION:"2.3.5",Result:{SUCCEEDED:1,NOTRANSITION:2,CANCELLED:3,PENDING:4},Error:{INVALID_TRANSITION:100,PENDING_TRANSITION:200,INVALID_CALLBACK:300},WILDCARD:"*",ASYNC:"async",create:function(t,e){var n="string"==typeof t.initial?{state:t.initial}:t.initial,r=t.terminal||t["final"],o=e||t.target||{},s=t.events||[],u=t.callbacks||{},h={},a={},c=function(t){var e=t.from instanceof Array?t.from:t.from?[t.from]:[i.WILDCARD];h[t.name]=h[t.name]||{};for(var n=0;n<e.length;n++)a[e[n]]=a[e[n]]||[],a[e[n]].push(t.name),h[t.name][e[n]]=t.to||e[n]};n&&(n.event=n.event||"startup",c({name:n.event,from:"none",to:n.state}));for(var l=0;l<s.length;l++)c(s[l]);for(var p in h)h.hasOwnProperty(p)&&(o[p]=i.buildEvent(p,h[p]));for(var p in u)u.hasOwnProperty(p)&&(o[p]=u[p]);return o.current="none",o.is=function(t){return t instanceof Array?t.indexOf(this.current)>=0:this.current===t},o.can=function(t){return!this.transition&&(h[t].hasOwnProperty(this.current)||h[t].hasOwnProperty(i.WILDCARD))},o.cannot=function(t){return!this.can(t)},o.transitions=function(){return a[this.current]},o.isFinished=function(){return this.is(r)},o.error=t.error||function(t,e,i,n,r,o,s){throw s||o},n&&!n.defer&&o[n.event](),o},doCallback:function(t,e,n,r,o,s){if(e)try{return e.apply(t,[n,r,o].concat(s))}catch(u){return t.error(n,r,o,s,i.Error.INVALID_CALLBACK,"an exception occurred in a caller-provided callback function",u)}},beforeAnyEvent:function(t,e,n,r,o){return i.doCallback(t,t.onbeforeevent,e,n,r,o)},afterAnyEvent:function(t,e,n,r,o){return i.doCallback(t,t.onafterevent||t.onevent,e,n,r,o)},leaveAnyState:function(t,e,n,r,o){return i.doCallback(t,t.onleavestate,e,n,r,o)},enterAnyState:function(t,e,n,r,o){return i.doCallback(t,t.onenterstate||t.onstate,e,n,r,o)},changeState:function(t,e,n,r,o){return i.doCallback(t,t.onchangestate,e,n,r,o)},beforeThisEvent:function(t,e,n,r,o){return i.doCallback(t,t["onbefore"+e],e,n,r,o)},afterThisEvent:function(t,e,n,r,o){return i.doCallback(t,t["onafter"+e]||t["on"+e],e,n,r,o)},leaveThisState:function(t,e,n,r,o){return i.doCallback(t,t["onleave"+n],e,n,r,o)},enterThisState:function(t,e,n,r,o){return i.doCallback(t,t["onenter"+r]||t["on"+r],e,n,r,o)},beforeEvent:function(t,e,n,r,o){return!1===i.beforeThisEvent(t,e,n,r,o)||!1===i.beforeAnyEvent(t,e,n,r,o)?!1:void 0},afterEvent:function(t,e,n,r,o){i.afterThisEvent(t,e,n,r,o),i.afterAnyEvent(t,e,n,r,o)},leaveState:function(t,e,n,r,o){var s=i.leaveThisState(t,e,n,r,o),u=i.leaveAnyState(t,e,n,r,o);return!1===s||!1===u?!1:i.ASYNC===s||i.ASYNC===u?i.ASYNC:void 0},enterState:function(t,e,n,r,o){i.enterThisState(t,e,n,r,o),i.enterAnyState(t,e,n,r,o)},buildEvent:function(t,e){return function(){var n=this.current,r=e[n]||e[i.WILDCARD]||n,o=Array.prototype.slice.call(arguments);if(this.transition)return this.error(t,n,r,o,i.Error.PENDING_TRANSITION,"event "+t+" inappropriate because previous transition did not complete");if(this.cannot(t))return this.error(t,n,r,o,i.Error.INVALID_TRANSITION,"event "+t+" inappropriate in current state "+this.current);if(!1===i.beforeEvent(this,t,n,r,o))return i.Result.CANCELLED;if(n===r)return i.afterEvent(this,t,n,r,o),i.Result.NOTRANSITION;var s=this;this.transition=function(){return s.transition=null,s.current=r,i.enterState(s,t,n,r,o),i.changeState(s,t,n,r,o),i.afterEvent(s,t,n,r,o),i.Result.SUCCEEDED},this.transition.cancel=function(){s.transition=null,i.afterEvent(s,t,n,r,o)};var u=i.leaveState(this,t,n,r,o);return!1===u?(this.transition=null,i.Result.CANCELLED):i.ASYNC===u?i.Result.PENDING:this.transition?this.transition():void 0}}};"undefined"!=typeof t&&t.exports&&(e=t.exports=i),e.StateMachine=i}()},function(t,e,i){var n;!function(r){"use strict";n=function(require){var t=i(45),e=i(34),n=i(3).asap;return t({scheduler:new e(n)})}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}(i(1))},function(t,e,i){var n;!function(r){"use strict";n=function(){function t(t){this._async=t,this._running=!1,this._queue=this,this._queueLen=0,this._afterQueue={},this._afterQueueLen=0;var e=this;this.drain=function(){e._drain()}}return t.prototype.enqueue=function(t){this._queue[this._queueLen++]=t,this.run()},t.prototype.afterQueue=function(t){this._afterQueue[this._afterQueueLen++]=t,this.run()},t.prototype.run=function(){this._running||(this._running=!0,this._async(this.drain))},t.prototype._drain=function(){for(var t=0;t<this._queueLen;++t)this._queue[t].run(),this._queue[t]=void 0;for(this._queueLen=0,this._running=!1,t=0;t<this._afterQueueLen;++t)this._afterQueue[t].run(),this._afterQueue[t]=void 0;this._afterQueueLen=0},t}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}(i(1))},function(t,e,i){var n;!function(r){"use strict";n=function(require){var t=i(14),e=i(13);return function(i){function n(t){function e(t){c=null,this.resolve(t)}function n(t){this.resolved||(c.push(t),0===--a&&this.reject(c))}for(var r,o,s=i._defer(),u=s._handler,h=t.length>>>0,a=h,c=[],l=0;h>l;++l)if(o=t[l],void 0!==o||l in t){if(r=i._handler(o),r.state()>0){u.become(r),i._visitRemaining(t,l,r);break}r.visit(u,e,n)}else--a;return 0===a&&u.reject(new RangeError("any(): array must not be empty")),s}function r(t,e){function n(t){this.resolved||(c.push(t),0===--f&&(l=null,this.resolve(c)))}function r(t){this.resolved||(l.push(t),0===--o&&(c=null,this.reject(l)))}var o,s,u,h=i._defer(),a=h._handler,c=[],l=[],p=t.length>>>0,f=0;for(u=0;p>u;++u)s=t[u],(void 0!==s||u in t)&&++f;for(e=Math.max(e,0),o=f-e+1,f=Math.min(e,f),e>f?a.reject(new RangeError("some(): array must contain at least "+e+" item(s), but had "+f)):0===f&&a.resolve(c),u=0;p>u;++u)s=t[u],(void 0!==s||u in t)&&i._handler(s).visit(a,n,r,a.notify);return h}function o(t,e){return i._traverse(e,t)}function s(t,e){var n=g.call(t);return i._traverse(e,n).then(function(t){return u(n,t)})}function u(t,e){for(var n=e.length,r=new Array(n),o=0,s=0;n>o;++o)e[o]&&(r[s++]=i._handler(t[o]).value);return r.length=s,r}function h(t){return y(t.map(a))}function a(e){var n=i._handler(e);return 0===n.state()?d(e).then(t.fulfilled,t.rejected):(n._unreport(),t.inspect(n))}function c(t,e){return arguments.length>2?m.call(t,p(e),arguments[2]):m.call(t,p(e))}function l(t,e){return arguments.length>2?_.call(t,p(e),arguments[2]):_.call(t,p(e))}function p(t){return function(e,i,n){return f(t,void 0,[e,i,n])}}var f=e(i),d=i.resolve,y=i.all,m=Array.prototype.reduce,_=Array.prototype.reduceRight,g=Array.prototype.slice;return i.any=n,i.some=r,i.settle=h,i.map=o,i.filter=s,i.reduce=c,i.reduceRight=l,i.prototype.spread=function(t){return this.then(y).then(function(e){return t.apply(this,e)})},i}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}(i(1))},function(t,e,i){var n;!function(r){"use strict";n=function(){function t(){throw new TypeError("catch predicate must be a function")}function e(t,e){return i(e)?t instanceof e:e(t)}function i(t){return t===Error||null!=t&&t.prototype instanceof Error}function n(t){return("object"==typeof t||"function"==typeof t)&&null!==t}function r(t){return t}return function(i){function o(t,i){return function(n){return e(n,i)?t.call(this,n):a(n)}}function s(t,e,i,r){var o=t.call(e);return n(o)?u(o,i,r):i(r)}function u(t,e,i){return h(t).then(function(){return e(i)})}var h=i.resolve,a=i.reject,c=i.prototype["catch"];return i.prototype.done=function(t,e){this._handler.visit(this._handler.receiver,t,e)},i.prototype["catch"]=i.prototype.otherwise=function(e){return arguments.length<2?c.call(this,e):"function"!=typeof e?this.ensure(t):c.call(this,o(arguments[1],e))},i.prototype["finally"]=i.prototype.ensure=function(t){return"function"!=typeof t?this:this.then(function(e){return s(t,this,r,e)},function(e){return s(t,this,a,e)})},i.prototype["else"]=i.prototype.orElse=function(t){return this.then(void 0,function(){return t})},i.prototype["yield"]=function(t){return this.then(function(){return t})},i.prototype.tap=function(t){return this.then(t)["yield"](this)},i}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}(i(1))},function(t,e,i){var n;!function(r){"use strict";n=function(){return function(t){return t.prototype.fold=function(e,i){var n=this._beget();return this._handler.fold(function(i,n,r){t._handler(i).fold(function(t,i,n){n.resolve(e.call(this,i,t))},n,this,r)},i,n._handler.receiver,n._handler),n},t}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}(i(1))},function(t,e,i){var n;!function(r){"use strict";n=function(require){var t=i(14).inspect;return function(e){return e.prototype.inspect=function(){return t(e._handler(this))},e}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}(i(1))},function(t,e,i){var n;!function(r){"use strict";n=function(){return function(t){function e(t,e,n,r){return i(function(e){return[e,t(e)]},e,n,r)}function i(t,e,r,o){function s(o,s){return n(r(o)).then(function(){return i(t,e,r,s)})}return n(o).then(function(i){return n(e(i)).then(function(e){return e?i:n(t(i)).spread(s)})})}var n=t.resolve;return t.iterate=e,t.unfold=i,t}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}(i(1))},function(t,e,i){var n;!function(r){"use strict";n=function(){return function(t){return t.prototype.progress=function(t){return this.then(void 0,void 0,t)},t}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}(i(1))},function(t,e,i){var n;!function(r){"use strict";n=function(require){function t(t,i,n,r){return e.setTimer(function(){t(n,r,i)},i)}var e=i(3),n=i(12);return function(i){function r(e,i,n){t(o,e,i,n)}function o(t,e){e.resolve(t)}function s(t,e,i){var r="undefined"==typeof t?new n("timed out after "+i+"ms"):t;e.reject(r)}return i.prototype.delay=function(t){var e=this._beget();return this._handler.fold(r,t,void 0,e._handler),e},i.prototype.timeout=function(i,n){var r=this._beget(),o=r._handler,u=t(s,i,n,r._handler);return this._handler.visit(o,function(t){e.clearTimer(u),this.resolve(t)},function(t){e.clearTimer(u),this.reject(t)},o.notify),r},i}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}(i(1))},function(t,e,i){var n;!function(r){"use strict";n=function(require){function t(t){throw t}function e(){}var n=i(3).setTimer,r=i(44);return function(i){function o(t){t.handled||(f.push(t),c("Potentially unhandled rejection ["+t.id+"] "+r.formatError(t.value)))}function s(t){var e=f.indexOf(t);e>=0&&(f.splice(e,1),l("Handled previous rejection ["+t.id+"] "+r.formatObject(t.value)))}function u(t,e){p.push(t,e),null===d&&(d=n(h,0))}function h(){for(d=null;p.length>0;)p.shift()(p.shift())}var a,c=e,l=e;"undefined"!=typeof console&&(a=console,c="undefined"!=typeof a.error?function(t){a.error(t)}:function(t){a.log(t)},l="undefined"!=typeof a.info?function(t){a.info(t)}:function(t){a.log(t)}),i.onPotentiallyUnhandledRejection=function(t){u(o,t)},i.onPotentiallyUnhandledRejectionHandled=function(t){u(s,t)},i.onFatalRejection=function(e){u(t,e.value)};var p=[],f=[],d=null;return i}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}(i(1))},function(t,e,i){var n;!function(r){"use strict";n=function(){return function(t){return t.prototype["with"]=t.prototype.withThis=function(t){var e=this._beget(),i=e._handler;return i.receiver=t,this._handler.chain(i,t),e},t}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}(i(1))},function(t,e,i){var n;!function(r){"use strict";n=function(){function t(t){var i="object"==typeof t&&null!==t&&t.stack?t.stack:e(t);return t instanceof Error?i:i+" (WARNING: non-Error used)"}function e(t){var e=String(t);return"[object Object]"===e&&"undefined"!=typeof JSON&&(e=i(t,e)),e}function i(t,e){try{return JSON.stringify(t)}catch(i){return e}}return{formatError:t,formatObject:e,tryStringify:i}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}(i(1))},function(t,e,i){var n;(function(r){!function(o){"use strict";n=function(){return function(t){function e(t,e){this._handler=t===v?e:i(t)}function i(t){function e(t){r.resolve(t)}function i(t){r.reject(t)}function n(t){r.notify(t)}var r=new x;try{t(e,i,n)}catch(o){i(o)}return r}function n(t){return k(t)?t:new e(v,new S(_(t)))}function o(t){return new e(v,new S(new E(t)))}function s(){return tt}function u(){return new e(v,new x)}function h(t,e){var i=new x(t.receiver,t.join().context);return new e(v,i)}function a(t){return l(Q,null,t)}function c(t,e){return l(F,t,e)}function l(t,i,n){function r(e,r,s){s.resolved||p(n,o,e,t(i,r,e),s)}function o(t,e,i){c[t]=e,0===--a&&i.become(new A(c))}for(var s,u="function"==typeof i?r:o,h=new x,a=n.length>>>0,c=new Array(a),l=0;l<n.length&&!h.resolved;++l)s=n[l],void 0!==s||l in n?p(n,u,l,s,h):--a;return 0===a&&h.become(new A(c)),new e(v,h)}function p(t,e,i,n,r){if(D(n)){var o=g(n),s=o.state();0===s?o.fold(e,i,void 0,r):s>0?e(i,o.value,r):(r.become(o),f(t,i+1,o))}else e(i,n,r)}function f(t,e,i){for(var n=e;n<t.length;++n)d(_(t[n]),i)}function d(t,e){if(t!==e){var i=t.state();0===i?t.visit(t,void 0,t._unreport):0>i&&t._unreport()}}function y(t){return"object"!=typeof t||null===t?o(new TypeError("non-iterable passed to race()")):0===t.length?s():1===t.length?n(t[0]):m(t)}function m(t){var i,n,r,o=new x;for(i=0;i<t.length;++i)if(n=t[i],void 0!==n||i in t){if(r=_(n),0!==r.state()){o.become(r),f(t,i+1,r);break}r.visit(o,o.resolve,o.reject)}return new e(v,o)}function _(t){return k(t)?t._handler.join():D(t)?w(t):new A(t)}function g(t){return k(t)?t._handler.join():w(t)}function w(t){try{var e=t.then;return"function"==typeof e?new z(e,t):new A(t)}catch(i){return new E(i)}}function v(){}function b(){}function x(t,i){e.createContext(this,i),this.consumers=void 0,this.receiver=t,this.handler=void 0,this.resolved=!1}function S(t){this.handler=t}function z(t,e){x.call(this),K.enqueue(new O(t,e,this))}function A(t){e.createContext(this),this.value=t}function E(t){e.createContext(this),this.id=++$,this.value=t,this.handled=!1,this.reported=!1,this._report()}function j(t,e){this.rejection=t,this.context=e}function T(t){this.rejection=t}function R(){return new E(new TypeError("Promise cycle"))}function P(t,e){this.continuation=t,this.handler=e}function C(t,e){this.handler=e,this.value=t}function O(t,e,i){this._then=t,this.thenable=e,this.resolver=i}function L(t,e,i,n,r){try{t.call(e,i,n,r)}catch(o){n(o)}}function I(t,e,i,n){this.f=t,this.z=e,this.c=i,this.to=n,this.resolver=X,this.receiver=this}function k(t){return t instanceof e}function D(t){return("object"==typeof t||"function"==typeof t)&&null!==t}function N(t,i,n,r){return"function"!=typeof t?r.become(i):(e.enterContext(i),G(t,i.value,n,r),void e.exitContext())}function M(t,i,n,r,o){return"function"!=typeof t?o.become(n):(e.enterContext(n),V(t,i,n.value,r,o),void e.exitContext())}function U(t,i,n,r,o){return"function"!=typeof t?o.notify(i):(e.enterContext(n),q(t,i,r,o),void e.exitContext())}function F(t,e,i){try{return t(e,i)}catch(n){return o(n)}}function G(t,e,i,n){try{n.become(_(t.call(i,e)))}catch(r){n.become(new E(r))}}function V(t,e,i,n,r){try{t.call(n,e,i,r)}catch(o){r.become(new E(o))}}function q(t,e,i,n){try{n.notify(t.call(i,e))}catch(r){n.notify(r)}}function H(t,e){e.prototype=J(t.prototype),e.prototype.constructor=e}function Q(t,e){return e}function B(){}function W(){return"undefined"!=typeof r&&null!==r&&"function"==typeof r.emit?function(t,e){return"unhandledRejection"===t?r.emit(t,e.value,e):r.emit(t,e)}:"undefined"!=typeof self&&"function"==typeof CustomEvent?function(t,e,i){var n=!1;try{var r=new i("unhandledRejection");n=r instanceof i}catch(o){}return n?function(t,n){var r=new i(t,{detail:{reason:n.value,key:n},bubbles:!1,cancelable:!0});return!e.dispatchEvent(r)}:t}(B,self,CustomEvent):B}var K=t.scheduler,Y=W(),J=Object.create||function(t){function e(){}return e.prototype=t,new e};e.resolve=n,e.reject=o,e.never=s,e._defer=u,e._handler=_,e.prototype.then=function(t,e,i){var n=this._handler,r=n.join().state();if("function"!=typeof t&&r>0||"function"!=typeof e&&0>r)return new this.constructor(v,n);var o=this._beget(),s=o._handler;return n.chain(s,n.receiver,t,e,i),o},e.prototype["catch"]=function(t){return this.then(void 0,t)},e.prototype._beget=function(){return h(this._handler,this.constructor)},e.all=a,e.race=y,e._traverse=c,e._visitRemaining=f,v.prototype.when=v.prototype.become=v.prototype.notify=v.prototype.fail=v.prototype._unreport=v.prototype._report=B,v.prototype._state=0,v.prototype.state=function(){return this._state},v.prototype.join=function(){for(var t=this;void 0!==t.handler;)t=t.handler;return t},v.prototype.chain=function(t,e,i,n,r){this.when({resolver:t,receiver:e,fulfilled:i,rejected:n,progress:r})},v.prototype.visit=function(t,e,i,n){this.chain(X,t,e,i,n)},v.prototype.fold=function(t,e,i,n){this.when(new I(t,e,i,n))},H(v,b),b.prototype.become=function(t){t.fail()};var X=new b;H(v,x),x.prototype._state=0,x.prototype.resolve=function(t){this.become(_(t))},x.prototype.reject=function(t){this.resolved||this.become(new E(t))},x.prototype.join=function(){if(!this.resolved)return this;for(var t=this;void 0!==t.handler;)if(t=t.handler,t===this)return this.handler=R();return t},x.prototype.run=function(){var t=this.consumers,e=this.handler;this.handler=this.handler.join(),this.consumers=void 0;for(var i=0;i<t.length;++i)e.when(t[i])},x.prototype.become=function(t){this.resolved||(this.resolved=!0,this.handler=t,void 0!==this.consumers&&K.enqueue(this),void 0!==this.context&&t._report(this.context))},x.prototype.when=function(t){this.resolved?K.enqueue(new P(t,this.handler)):void 0===this.consumers?this.consumers=[t]:this.consumers.push(t)},x.prototype.notify=function(t){this.resolved||K.enqueue(new C(t,this))},x.prototype.fail=function(t){var e="undefined"==typeof t?this.context:t;this.resolved&&this.handler.join().fail(e)},x.prototype._report=function(t){this.resolved&&this.handler.join()._report(t)},x.prototype._unreport=function(){this.resolved&&this.handler.join()._unreport()},H(v,S),S.prototype.when=function(t){K.enqueue(new P(t,this))},S.prototype._report=function(t){this.join()._report(t)},S.prototype._unreport=function(){this.join()._unreport()},H(x,z),H(v,A),A.prototype._state=1,A.prototype.fold=function(t,e,i,n){M(t,e,this,i,n)},A.prototype.when=function(t){N(t.fulfilled,this,t.receiver,t.resolver)};var $=0;H(v,E),E.prototype._state=-1,E.prototype.fold=function(t,e,i,n){n.become(this)},E.prototype.when=function(t){"function"==typeof t.rejected&&this._unreport(),N(t.rejected,this,t.receiver,t.resolver)},E.prototype._report=function(t){K.afterQueue(new j(this,t))},E.prototype._unreport=function(){this.handled||(this.handled=!0,K.afterQueue(new T(this)))},E.prototype.fail=function(t){this.reported=!0,Y("unhandledRejection",this),e.onFatalRejection(this,void 0===t?this.context:t)},j.prototype.run=function(){this.rejection.handled||this.rejection.reported||(this.rejection.reported=!0,Y("unhandledRejection",this.rejection)||e.onPotentiallyUnhandledRejection(this.rejection,this.context))},T.prototype.run=function(){this.rejection.reported&&(Y("rejectionHandled",this.rejection)||e.onPotentiallyUnhandledRejectionHandled(this.rejection))},e.createContext=e.enterContext=e.exitContext=e.onPotentiallyUnhandledRejection=e.onPotentiallyUnhandledRejectionHandled=e.onFatalRejection=B;var Z=new v,tt=new e(v,Z);return P.prototype.run=function(){this.handler.join().when(this.continuation)},C.prototype.run=function(){var t=this.handler.consumers;if(void 0!==t)for(var e,i=0;i<t.length;++i)e=t[i],U(e.progress,this.value,this.handler,e.receiver,e.resolver)},O.prototype.run=function(){function t(t){n.resolve(t)}function e(t){n.reject(t)}function i(t){n.notify(t)}var n=this.resolver;L(this._then,this.thenable,t,e,i)},I.prototype.fulfilled=function(t){this.f.call(this.c,this.z,t,this.to)},I.prototype.rejected=function(t){this.to.reject(t)},I.prototype.progress=function(t){this.to.notify(t)},e}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}(i(1))}).call(e,i(11))},function(t,e,i){var n;!function(r){"use strict";n=function(require){function t(t,e,i,n){var r=S.resolve(t);return arguments.length<2?r:r.then(e,i,n)}function e(t){return new S(t)}function n(t){return function(){for(var e=0,i=arguments.length,n=new Array(i);i>e;++e)n[e]=arguments[e];return z(t,this,n)}}function r(t){for(var e=0,i=arguments.length-1,n=new Array(i);i>e;++e)n[e]=arguments[e+1];return z(t,this,n)}function o(){return new s}function s(){function t(t){n._handler.resolve(t)}function e(t){n._handler.reject(t)}function i(t){n._handler.notify(t)}var n=S._defer();this.promise=n,this.resolve=t,this.reject=e,this.notify=i,this.resolver={resolve:t,reject:e,notify:i}}function u(t){return t&&"function"==typeof t.then}function h(){return S.all(arguments)}function a(e){return t(e,S.all)}function c(e){return t(e,S.settle)}function l(e,i){return t(e,function(t){return S.map(t,i)})}function p(e,i){return t(e,function(t){return S.filter(t,i)})}var f=i(41),d=i(35),y=i(36),m=i(37),_=i(38),g=i(39),w=i(40),v=i(43),b=i(42),x=i(12),S=[d,y,m,g,w,_,v,f,b].reduce(function(t,e){return e(t)},i(33)),z=i(13)(S);return t.promise=e,t.resolve=S.resolve,t.reject=S.reject,t.lift=n,t["try"]=r,t.attempt=r,t.iterate=S.iterate,t.unfold=S.unfold,t.join=h,t.all=a,t.settle=c,t.any=n(S.any),t.some=n(S.some),t.race=n(S.race),t.map=l,t.filter=p,t.reduce=n(S.reduce),t.reduceRight=n(S.reduceRight),t.isPromiseLike=u,t.Promise=S,t.defer=o,t.TimeoutError=x,t}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}(i(1))},function(t,e,i){function n(t){return i(r(t))}function r(t){return o[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var o={"./boot.coffee":26,"./game.coffee":27,"./intro.coffee":28,"./preload.coffee":29,"./reset.coffee":30};n.keys=function(){return Object.keys(o)},n.resolve=r,t.exports=n,n.id=47},function(t,e){}]);